<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dream Path - Выбор тура</title>
    <link rel="stylesheet" href="page2text.css" />
    <link rel="stylesheet" href="page2style.css" />
    <link rel="stylesheet" href="flatpickr.min.css" />
  </head>
  <body>
    <div class="screen">
      <main class="main-content">
        <div class="div">
            <div class="navigation-header">
              <div class="logo-header">
                <img src="page2img/логотип.svg" alt="Dream Path Logo" class="logo-icon">
                <div class="site-name">Dream Path</div>
              </div>
             
              <div class="desktop-menu">
                <div class="header-text-items"><a href="../страница_туров/second_page.html">Туры</a></div>
            <div class="header-text-items"><a href="../страница_бронирования/page4.html">Бронирование</a></div>
            <div class="header-text-items"><a href="../страница_контактов/page3.html">Контакты</a></div>
            <div class="header-text-items"><a href="../main.html">Главная</a></div>
              </div>
      
             
              <div class="mobile-header">
               
                <div class="mobile-hamburger-container">
                  <div class="hamburger" onclick="toggleMenu()">☰</div>
                  
                  <div class="mobile-menu" id="mobileMenu">
                    <div class="header-text-items"><a href="../страница_туров/second_page.html">Туры</a></div>
                <div class="header-text-items"><a href="../страница_бронирования/page4.html">Бронирование</a></div>
                <div class="header-text-items"><a href="../страница_контактов/page3.html">Контакты</a></div>
                <div class="header-text-items"><a href="../main.html">Главная</a></div>
                  </div>
                </div>

              </div>
      
            </div>
        </div>
          <h2 class="page-title">Выбор тура</h2>
       
          
              <!-- Форма поиска туров -->
              <section class="tour-search">
                <h2 class="visually-hidden">Поиск туров</h2>
                <form class="search-form">
                  <div class="form-group">
                    <label for="departure-city" class="visually-hidden">Город вылета</label>
                    <input type="text" id="departure-city" class="form-control" placeholder="Город вылета" />
                    <img class="icon" src="page2img/location.svg" alt="Выбрать город" />
                  </div>
            
                  <div class="form-group">
                    <label for="destination" class="visually-hidden">Страна, город</label>
                    <input type="text" id="destination" class="form-control" placeholder="Страна, город" />
                    <img class="icon" src="page2img/location.svg" alt="Выбрать страну и город" />
                  </div>
            
                  <div class="form-group">
                    <label for="date" class="visually-hidden">Выбрать дату</label>
                    <input type="text" id="date" class="form-control" placeholder="Выбрать дату" />
                    
                    <img class="icon" src="page2img/date.svg" alt="Календарь" />
                  </div>
            
                  <div class="form-group">
                    <label for="nights" class="visually-hidden">Количество ночей</label>
                    <input type="number" id="nights" class="form-control" placeholder="Количество ночей" min="1" />
                    <img class="icon" src="page2img/time.svg" alt="Выбрать количество ночей" />
                  </div>
            
                  <div class="form-group">
                    <label for="people" class="visually-hidden">Количество людей</label>
                    <input type="number" id="people" class="form-control" placeholder="Количество людей" min="1" />
                    <img class="icon" src="page2img/people.svg" alt="Выбрать количество людей" />
                  </div>
            
                  <button type="submit" class="search-button">
                    <span class="login-text">Найти</span>
                    
                  </button>
                </form>
              </section>
        <h3 class="section-title">Лучшие предложения</h3>
        <section class="search-results">
          <h3 class="visually-hidden">Результаты поиска</h3>
          <div class="results-header">
            <p class="results-count">Доступно 0 предложений</p>
            <div class="sort-dropdown">
              <button class="sort-button">
                <span>По цене</span>
                
              </button>
              
            </div>
          </div>
          <div class="tour-grid">
          </div>
        </section>
      </main>

      <footer class="navigation-footer">
        <div class="items-2">
          <div class="items-name-text">Навигация</div>
          <div class="items-text"><a href="../main.html">Главная</a></div>
          <div class="items-text"><a href="../страница_бронирования/page4.html">Бронирование</a></div>
          <div class="items-text"><a href="../страница_туров/second_page.html">Туры</a></div>
        </div>
        <div class="items-3">
          <div class="items-name-text">Поддержка</div>
          <div class="items-text"><a href="javascript:void(0)" data-modal="questions">Часто задаваемые вопросы</a></div>
          <div class="items-text"><a href="javascript:void(0)" data-modal="terms">Условия и политика конфиденциальности</a></div>
          <div class="items-text"><a href="../страница_контактов/page3.html">Контакты</a></div>
        </div>
        <div class="items-4">
          <div class="items-name-text">Полезные ссылки</div>
          <div class="items-text"><a href="https://www.onetwotrip.com/ru/blog/?srsltid=AfmBOoqs3N9KBErS3v9w7IoZlBJmfRO1Ssvwqpn-LmxNWgSU7yEbUGM4">Блог о путешествиях</a></div>
            <div class="items-text"><a href="https://sutochno.ru/info/nachinayuschiy-puteshestvennik">Советы туристам</a></div>
            <div class="items-text"><a href="https://www.tutu.ru/geo/">Путеводители</a></div>
        </div>
        <div class="footer-page-name">Dream Path</div>
        <div class="social-icons">
          <div class="buttons-icon">
            <div class="icon2">
              <img class="icon-2" src="page2img/Telegram.svg" alt="Telegram" />
            </div>
          </div>
          <div class="buttons-icon">
            <div class="icon2">
              <img class="icon-2" src="page2img/Instagram.svg" alt="Instagram" />
            </div>
          </div>
          <div class="buttons-icon">
            <div class="icon2">
              <img class="icon-2" src="page2img/VK.svg" alt="VK" />
            </div>
          </div>
          <div class="buttons-icon">
            <div class="icon2">
              <img class="icon-2" src="page2img/Facebook.svg" alt="Facebook" />
            </div>
          </div>
        </div>
      </footer>
    </div>
              <script>
                // Функция переключения видимости мобильного меню
                function toggleMenu() {
                  const mobileMenu = document.getElementById("mobileMenu");
                  mobileMenu.style.display = mobileMenu.style.display === "flex" ? "none" : "flex";
                }
              </script>
              <script src="flatpickr.js"></script>
              <script>
               document.addEventListener("DOMContentLoaded", function () {
  // Инициализация календаря для поля даты
  const dateInput = document.getElementById("date");
  flatpickr(dateInput, {
    dateFormat: "d.m.Y",
    disableMobile: true,
  });


  let tourCardCount = 0;


  let sortOrder = "asc";

  function updateResultsCount(count) {
    const resultsElem = document.querySelector(".results-count");
    if (resultsElem) {
      resultsElem.textContent = "Доступно " + count + " предложений";
    }
  }

  function addTourCard(
    cardTitle,
    imageSrc,
    departureCity,
    country,
    city,
    price,
    oldPrice,
    departureDate,
    nights,
    untilDate,
    starRating,
    boardType,
    uniqueLink
  ) {
    // Создаем оболочку карточки (элемент-ссылка) и используем переданный uniqueLink для href
    const cardLink = document.createElement("a");
    cardLink.href = uniqueLink;
    cardLink.classList.add("tour-card-link");

    const card = document.createElement("article");
    card.classList.add("tour-card");

    // Для фильтрации сохраняем дополнительные данные:
    card.dataset.departureCity = departureCity.toLowerCase();
    card.dataset.country = country.toLowerCase();
    card.dataset.city = city.toLowerCase();
    card.dataset.departureDate = departureDate;
    card.dataset.nights = nights;

    // Скрытый заголовок для доступности
    if (cardTitle) {
      const titleElem = document.createElement("h3");
      titleElem.classList.add("tour-title", "visually-hidden");
      titleElem.textContent = cardTitle;
      card.appendChild(titleElem);
    }

    // Изображение
    const img = document.createElement("img");
    img.src = imageSrc;
    img.alt = cardTitle ? cardTitle : `${country}, ${city}`;
    img.classList.add("tour-image");
    card.appendChild(img);

    // Оверлей с информацией
    const infoDiv = document.createElement("div");
    infoDiv.classList.add("tour-info");

    // Страна
    const countryElem = document.createElement("h4");
    countryElem.classList.add("tour-country");
    countryElem.textContent = country;
    infoDiv.appendChild(countryElem);

    // Город
    const cityElem = document.createElement("p");
    cityElem.classList.add("tour-city");
    cityElem.textContent = city;
    infoDiv.appendChild(cityElem);

    // Название отеля (появляется при hover)
    const hotelNameElem = document.createElement("p");
    hotelNameElem.classList.add("hotel-name", "additional-info");
    hotelNameElem.textContent = cardTitle;
    infoDiv.appendChild(hotelNameElem);

    // Блок для цен
    const priceContainer = document.createElement("div");
    priceContainer.classList.add("price-container");

    const priceElem = document.createElement("span");
    priceElem.classList.add("tour-price");
    priceElem.textContent = price;
    priceContainer.appendChild(priceElem);

    const oldPriceElem = document.createElement("span");
    oldPriceElem.classList.add("tour-old-price");
    oldPriceElem.textContent = oldPrice;
    priceContainer.appendChild(oldPriceElem);

    infoDiv.appendChild(priceContainer);

    // Дополнительная информация (при hover)
    const pricePerPersonElem = document.createElement("p");
    pricePerPersonElem.classList.add("price-per-person", "additional-info");
    pricePerPersonElem.textContent = "Цена за человека";
    infoDiv.appendChild(pricePerPersonElem);

    const departureFirstElem = document.createElement("p");
    departureFirstElem.classList.add("departure-first", "additional-info");
    departureFirstElem.textContent = `Вылет -> ${departureDate}`;
    infoDiv.appendChild(departureFirstElem);

    const departureSecondElem = document.createElement("p");
    departureSecondElem.classList.add("departure-second", "additional-info");
    departureSecondElem.textContent = `Ночей: ${nights}, до: ${untilDate}`;
    infoDiv.appendChild(departureSecondElem);

    const bottomRightInfo = document.createElement("div");
    bottomRightInfo.classList.add("bottom-right-info", "additional-info");

    const starRatingElem = document.createElement("span");
    starRatingElem.classList.add("star-rating");
    starRatingElem.textContent = `⭐ ${starRating}`;
    bottomRightInfo.appendChild(starRatingElem);

    const boardTypeElem = document.createElement("span");
    boardTypeElem.classList.add("board-type");
    boardTypeElem.textContent = boardType;
    bottomRightInfo.appendChild(boardTypeElem);

    infoDiv.appendChild(bottomRightInfo);
    card.appendChild(infoDiv);

    // Оборачиваем карточку в ссылку
    cardLink.appendChild(card);

    // Добавляем карточку-ссылку в контейнер с карточками
    const grid = document.querySelector(".tour-grid");
    if (grid) {
      grid.appendChild(cardLink);
      tourCardCount++;
      updateResultsCount(tourCardCount);
    } else {
      console.error("Контейнер с классом .tour-grid не найден!");
    }
  }

                  // Пример добавления нескольких карточек:
                  addTourCard(
                      "KUREDU ISLAND RESORT",                            // Название отеля
                      "page2img/KUREDU_ISLAND_RESORT.jpg",            // Путь к изображению 
                      "Минск",
                      "Мальдивы",                                        // Страна
                      "Мальдивы",                                 // Город
                      "6091 BYN",                                      // Основная цена
                      "7165 BYN",                                      // Старая цена
                      "23.04.2025",                                    // Дата вылета
                      "7",                                             // Количество ночей
                      "30.04.2025",                                    // До какого числа
                      "4",                                             // Количество звёзд
                      "FB - Завтрак, обед и ужин",                      // Тип питания
                      "../страница_описания_туров/kuredu_island_resort.html?id=100"                                
                    );
                    addTourCard(
                      "Movenpick Resort Al Marjan Island",                            // Название отеля
                      "page2img/Movenpick_Resort.jpg",            // Путь к изображению 
                      "Москва",
                      "ОАЭ",                                        // Страна
                      "Рас-аль-Хайма",                                 // Город
                      "2594 BYN",                                      // Основная цена
                      "3244 BYN",                                      // Старая цена
                      "13.07.2025",                                    // Дата вылета
                      "7",                                             // Количество ночей
                      "20.05.2025",                                    // До какого числа
                      "5",                                             // Количество звёзд
                      "BB - Только завтраки",                                  // Тип питания
                      "../страница_описания_туров/Movenpick_Resort.html?id=101" 
                    );
                    addTourCard(
                      "Constance Ephelia Seychelles",                            // Название отеля
                      "page2img/Constance_Ephelia_Seychelles.jpg",            // Путь к изображению 
                      "Москва",
                      "Сейшелы",                                        // Страна
                      "Маэ",                                 // Город
                      "9535 BYN",                                      // Основная цена
                      "10595 BYN",                                      // Старая цена
                      "16.05.2025",                                    // Дата вылета
                      "7",                                             // Количество ночей
                      "23.05.2025",                                    // До какого числа
                      "5",                                             // Количество звёзд
                      "HB - Завтрак и ужин",                                  // Тип питания
                      "../страница_описания_туров/Constance_Ephelia_Seychelles.html?id=102" 
                    );
                    addTourCard(
                      "Sunrise Holidays",                            // Название отеля
                      "page2img/Sunrise_Holidays.jpg",            // Путь к изображению 
                      "Москва",
                      "Египет",                                        // Страна
                      "Хургада",                                 // Город
                      "3918 BYN",                                      // Основная цена
                      "4895 BYN",                                      // Старая цена
                      "11.05.2025",                                    // Дата вылета
                      "7",                                             // Количество ночей
                      "18.05.2025",                                    // До какого числа
                      "5",                                             // Количество звёзд
                      "AI -  All Inclusive",                                  // Тип питания
                      "../страница_описания_туров/Sunrise_Holidays.html?id=103"  
                    );
                    addTourCard(
                      "Akka Alinda Hotel",                            // Название отеля
                      "page2img/Akka_Alinda_Hotel.jpg",            // Путь к изображению 
                      "Минск",
                      "Турция",                                        // Страна
                      "Кемер",                                 // Город
                      "4631 BYN",                                      // Основная цена
                      "5790 BYN",                                      // Старая цена
                      "27.08.2025",                                    // Дата вылета
                      "7",                                             // Количество ночей
                      "03.09.2025",                                    // До какого числа
                      "5",                                             // Количество звёзд
                      "PREMIUM UAI",
                      "../страница_описания_туров/Akka_Alinda_Hotel.html?id=104"  
                    );
                    addTourCard(
                      "Fujairah Rotana Resort & Spa",                            // Название отеля
                      "page2img/Fujairah_Rotana_Resort_&_Spa.jpg",            // Путь к изображению 
                      "Минск",
                      "ОАЭ",                                        // Страна
                      "Фуджейра",                                 // Город
                      "2716 BYN",                                      // Основная цена
                      "3192 BYN",                                      // Старая цена
                      "06.06.2025",                                    // Дата вылета
                      "7",                                             // Количество ночей
                      "13.06.2025",                                    // До какого числа
                      "5",                                             // Количество звёзд
                      "BB - Только завтраки",                                  // Тип питания
                      "../страница_описания_туров/Fujairah_Rotana_Resort_&_Spa.html?id=105" 
                    );
                    
            
                 // город вылета, страна/город назначения, дата вылета, ночей
  function filterTours() {
    const departureCityValue = document.getElementById("departure-city").value.trim().toLowerCase();
    const destinationValue = document.getElementById("destination").value.trim().toLowerCase();
    const dateValue = document.getElementById("date").value.trim();
    const nightsValue = document.getElementById("nights").value.trim();

    
    const cardLinks = document.querySelectorAll(".tour-card-link");
    let visibleCount = 0;

    cardLinks.forEach(link => {
      
      const card = link.querySelector(".tour-card");
      let match = true;

      // Фильтр по городу вылета 
      if (departureCityValue) {
        if (!card.dataset.departureCity.includes(departureCityValue)) {
          match = false;
        }
      }

      // Фильтр по пункту назначения 
      if (destinationValue) {
        if (!(card.dataset.country.includes(destinationValue) || card.dataset.city.includes(destinationValue))) {
          match = false;
        }
      }

      // Фильтрация по дате вылета
      if (dateValue) {
        if (card.dataset.departureDate !== dateValue) {
          match = false;
        }
      }

      // Фильтрация по количеству ночей
      if (nightsValue) {
        if (card.dataset.nights !== nightsValue) {
          match = false;
        }
      }

      if (match) {
        
        link.style.display = "";
        visibleCount++;
      } else {
        link.style.display = "none";
      }
    });

    updateResultsCount(visibleCount);
  }


  const searchForm = document.querySelector(".search-form");
  if (searchForm) {
    searchForm.addEventListener("submit", function (e) {
      e.preventDefault();
      filterTours();
    });
  }

  // Сортировка туров по цене
  function sortTours() {
    const grid = document.querySelector(".tour-grid");
    
    const cardLinks = Array.from(grid.querySelectorAll(".tour-card-link"));

    // Сортовка по значению цены 
    cardLinks.sort(function (a, b) {
      const priceA = parseInt(a.querySelector(".tour-price").textContent.replace(/\D+/g, ""), 10);
      const priceB = parseInt(b.querySelector(".tour-price").textContent.replace(/\D+/g, ""), 10);
      return (sortOrder === "asc") ? priceA - priceB : priceB - priceA;
    });

    // Очистка контейнера 
    grid.innerHTML = "";
    cardLinks.forEach(link => grid.appendChild(link));
  }

  // Обработка клика по кнопке сортировки
  const sortButton = document.querySelector(".sort-button");
  if (sortButton) {
    const sortText = sortButton.querySelector("span");
    sortButton.addEventListener("click", function () {
      
      sortOrder = (sortOrder === "asc") ? "desc" : "asc";
      sortText.textContent = (sortOrder === "asc") ? "Цена по возрастанию" : "Цена по убыванию";
      sortTours();
    });
  }
});

              </script>
              <div class="modal-overlay" id="modalOverlay">
  <div class="modal">
    <button class="modal-close">&times;</button>
    <div class="modal-content" id="modalContent"></div>
  </div>
</div>
<script>
// Модальное окно
document.addEventListener("DOMContentLoaded", function() {
  const modalContents = {
    terms: `
      <h2>Политика конфиденциальности</h2>
      <p>Политика конфиденциальности данного сайта туристического агентства направлена на информирование пользователей о порядке сбора, обработки и защиты их персональных данных. Мы собираем информацию, предоставляемую посетителями при оформлении бронирования и используем её исключительно для улучшения качества услуг и информирования о специальных предложениях. Все полученные данные обрабатываются в строгом соответствии с действующим законодательством о защите персональной информации и не передаются третьим лицам без явного согласия пользователя, кроме случаев, предусмотренных законом. Приняты необходимые технические и организационные меры для обеспечения безопасности информации и предотвращения несанкционированного доступа к ней. Используя наш сайт, вы автоматически соглашаетесь с настоящей политикой конфиденциальности и можете связаться с нами по указанным контактным данным для получения дополнительной информации или выражения своих замечаний.</p>
      
     `,
     questions: `
      <h2>Часто задаваемые вопросы</h2>

<p><strong>Что посоветуете: всё включено или ультра?</strong></p>
<p>В данном случае всё зависит от конкретного отеля, но в общем, система «всё включено» (также обозначается как All inclusive) даёт возможность питаться в ресторане на территории отеля без оплаты, также можно бесплатно брать напитки и алкоголь. Кроме того, понятие «всё включено» относится к SPA-услугам, правом пользования тренажёрным залом, детским клубом на территории отеля и прочим позициям, список которых может меняться, в зависимости от концепции отеля.
<br>
Коктейли в барах на пляже и прочие дополнительные позиции в меню оплачиваются отдельно. Если же напротив типа питания в отеле появляется приставка «ультра», это, как правило, означает включение в бесплатный список всех напитков, в том числе, и иностранных.</p>

<p><strong>Что такое топливный сбор?</strong></p>
<p>Топливный сбор – это определенная по величине сумма, которую компания туроператор или авиаперевозчик включает в стоимость билета. Некоторые фирмы указывают его отдельной строкой, как например налог на добавленную стоимость, некоторые камуфлируют в общей стоимости авиабилета. В последнем случае узнать величину топливного сбора можно в туристическом агентстве, при выяснении окончательной стоимости авиаперелета, или на сайте компании авиаперевозчика.

Цены на горючее для самолетов постоянно меняются - и в последнее десятилетие не отмечалось, чтобы их колебание происходило в сторону уменьшения. Топливный сбор предназначен для компенсации разницы стоимости авиаперелета в случае изменения (увеличения) цены на топливо для самолета.</p>
<p><strong>Какой срок действия должен быть у паспорта для выезда за границу?</strong></p>
<p>Срок службы паспорта учитывается при оформлении визы, так для въезда встраны Евросоюза паспорт должен быть нестарше 10 лет намомент выезда и обязательное наличие как минимум 2 чистые страницы.
Также многие консульские учреждения для открытия визы требуют, чтобы намомент въезда доокончания срока действия паспорта оставалось неменее 3–6месяцев, авнекоторых случаях— неменее 1 года. Поэтому, перед планированием посещения дипломатического учреждения или консульского представительства предполагаемой страны въезда рекомендуется уточнить требования ксрокам действия паспорта.</p>

    `
  };

  // Элементы модального окна
  const modalOverlay = document.getElementById('modalOverlay');
  const modalContent = document.getElementById('modalContent');
  const modalCloseBtn = document.querySelector('.modal-close');

  // Функции управления
  function openModal(content) {
    if(modalOverlay && modalContent) {
      modalContent.innerHTML = content;
      modalOverlay.style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }
  }

  function closeModal() {
    if(modalOverlay) {
      modalOverlay.style.display = 'none';
      document.body.style.overflow = 'auto';
    }
  }

  // Обработчики событий
  if(modalCloseBtn) {
    modalCloseBtn.addEventListener('click', closeModal);
  }

  if(modalOverlay) {
    modalOverlay.addEventListener('click', function(e) {
      if(e.target === modalOverlay) closeModal();
    });
  }

  document.addEventListener('keydown', function(e) {
    if(e.key === 'Escape') closeModal();
  });

  // Обработчики для кнопок
  document.querySelectorAll('[data-modal]').forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const modalType = this.dataset.modal;
      if(modalContents[modalType]) {
        openModal(modalContents[modalType]);
      }
    });
  });
});
</script>
  </body>
</html>
